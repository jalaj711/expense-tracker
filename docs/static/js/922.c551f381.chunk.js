"use strict";(self.webpackChunkexpense_tracker=self.webpackChunkexpense_tracker||[]).push([[922],{922:function(e,t,n){n.r(t),n.d(t,{default:function(){return G}});var a=n(885),i=n(2791),o=n(4942),r=n(3366),c=n(7462),s=n(8182),l=n(4419),d=n(2065),u=n(277),p=n(5513),m=n(8826),v=n(2856),f=n(3026),g=n(7933),h=n(7164),b=n(5878);var Z=(0,b.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]),x=n(9282),y=n(1217);function C(e){return(0,y.Z)("MuiMenuItem",e)}var j=(0,b.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),k=n(184),I=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],O=(0,u.ZP)(v.Z,{shouldForwardProp:function(e){return(0,u.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,a=e.ownerState;return(0,c.Z)({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,o.Z)(t,"&.".concat(j.selected),(0,o.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,d.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(j.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,d.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,o.Z)(t,"&.".concat(j.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,d.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,d.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,o.Z)(t,"&.".concat(j.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,o.Z)(t,"&.".concat(j.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),(0,o.Z)(t,"& + .".concat(h.Z.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),(0,o.Z)(t,"& + .".concat(h.Z.inset),{marginLeft:52}),(0,o.Z)(t,"& .".concat(x.Z.root),{marginTop:0,marginBottom:0}),(0,o.Z)(t,"& .".concat(x.Z.inset),{paddingLeft:36}),(0,o.Z)(t,"& .".concat(Z.root),{minWidth:36}),t),!a.dense&&(0,o.Z)({},n.breakpoints.up("sm"),{minHeight:"auto"}),a.dense&&(0,c.Z)({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,(0,o.Z)({},"& .".concat(Z.root," svg"),{fontSize:"1.25rem"})))})),w=i.forwardRef((function(e,t){var n=(0,p.Z)({props:e,name:"MuiMenuItem"}),a=n.autoFocus,o=void 0!==a&&a,d=n.component,u=void 0===d?"li":d,v=n.dense,h=void 0!==v&&v,b=n.divider,Z=void 0!==b&&b,x=n.disableGutters,y=void 0!==x&&x,j=n.focusVisibleClassName,w=n.role,F=void 0===w?"menuitem":w,S=n.tabIndex,M=(0,r.Z)(n,I),V=i.useContext(m.Z),q={dense:h||V.dense||!1,disableGutters:y},T=i.useRef(null);(0,f.Z)((function(){o&&T.current&&T.current.focus()}),[o]);var W,D=(0,c.Z)({},n,{dense:q.dense,divider:Z,disableGutters:y}),G=function(e){var t=e.disabled,n=e.dense,a=e.divider,i=e.disableGutters,o=e.selected,r=e.classes,s={root:["root",n&&"dense",t&&"disabled",!i&&"gutters",a&&"divider",o&&"selected"]},d=(0,l.Z)(s,C,r);return(0,c.Z)({},r,d)}(n),R=(0,g.Z)(T,t);return n.disabled||(W=void 0!==S?S:-1),(0,k.jsx)(m.Z.Provider,{value:q,children:(0,k.jsx)(O,(0,c.Z)({ref:R,role:F,tabIndex:W,component:u,focusVisibleClassName:(0,s.Z)(G.focusVisible,j)},M,{ownerState:D,classes:G}))})})),F=n(7205),S=n(7818),M=n(6015),V=n(4565),q=n(803),T=n(8087),W=n(6871),D=n(6190);function G(){var e=(0,W.s0)(),t=(0,W.UO)().id,n=(0,i.useState)([]),o=(0,a.Z)(n,2),r=o[0],c=o[1],s=(0,i.useState)(""),l=(0,a.Z)(s,2),d=l[0],u=l[1],p=(0,i.useState)(""),m=(0,a.Z)(p,2),v=m[0],f=m[1];(0,i.useEffect)((function(){(0,D.Z)().then((function(e){e.get("profiles",t).then((function(e){return e&&u(e.name)})),e.getAll("profiles").then((function(e){return c(e)}))}))}),[t]);return(0,k.jsx)(q.Z,{maxWidth:"xs",sx:{},children:(0,k.jsxs)(M.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",px:4,py:2},children:[(0,k.jsx)(V.Z,{component:"h1",variant:"h5",children:"Add a transaction"}),(0,k.jsxs)(M.Z,{component:"form",onSubmit:function(t){t.preventDefault();var n=new FormData(t.currentTarget);console.log([n.get("title"),n.get("amount"),n.get("type"),n.get("description"),n.get("profile")]);var a=n.get("amount")*("Expense"===n.get("type")?-1:1);(0,D.Z)().then((function(t){t.getFromIndex("profiles","by-name",n.get("profile")).then((function(i){i&&t.put("transactions",{title:n.get("title"),amount:a,description:n.get("description"),profile:i.id,date:new Date}).then((function(){i.amount+=a,t.put("profiles",i).then((function(){return e("/expense-tracker/profile/"+i.id)}))}))}))}))},noValidate:!0,sx:{mt:1},children:[(0,k.jsx)(S.Z,{margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Title",name:"title",autoFocus:!0,variant:"outlined"}),(0,k.jsx)(S.Z,{type:"number",margin:"normal",required:!0,fullWidth:!0,id:"amount",label:"Amount",name:"amount",variant:"outlined"}),(0,k.jsx)(S.Z,{margin:"normal",id:"outlined-select-amount",select:!0,label:"Transaction Type",value:v,name:"type",fullWidth:!0,required:!0,onChange:function(e){return f(e.target.value)},children:["Expense","Income"].map((function(e){return(0,k.jsx)(w,{value:e,children:e},e)}))}),(0,k.jsx)(S.Z,{margin:"normal",id:"outlined-select-profile",select:!0,label:"Profile",value:d,name:"profile",fullWidth:!0,required:!0,onChange:function(e){return u(e.target.value)},children:r.map((function(e,t){return(0,k.jsx)(w,{value:e.name,children:e.name},t)}))}),(0,k.jsx)(S.Z,{margin:"normal",fullWidth:!0,name:"description",label:"Description",id:"description",variant:"outlined",multiline:!0,minRows:3}),(0,k.jsx)(F.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},startIcon:(0,k.jsx)(T.Z,{}),children:"Add"})]})]})})}},8087:function(e,t,n){var a=n(1245),i=n(184);t.Z=(0,a.Z)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")}}]);
//# sourceMappingURL=922.c551f381.chunk.js.map